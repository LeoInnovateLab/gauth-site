"use strict";(self.webpackChunkgauth_site=self.webpackChunkgauth_site||[]).push([[852],{9281:(e,n,t)=>{t.d(n,{Ay:()=>r,RM:()=>c});var s=t(4848),o=t(8453);const c=[{value:"Demo",id:"demo",level:2}];function i(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"demo",children:"Demo"}),"\n",(0,s.jsxs)(n.p,{children:["\u63a8\u8350\u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo",children:"GAuth Demo"})," \u8fdb\u884c\u6d4b\u8bd5."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Clone ",(0,s.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo.git",children:"https://github.com/LeoInnovateLab/gauth-demo.git"})]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u5c06\u7533\u8bf7\u7684",(0,s.jsx)(n.code,{children:"App Id"}),"\u548c",(0,s.jsx)(n.code,{children:"App secrets"}),"\u586b\u5165.env.demo"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u542f\u52a8\u9879\u76ee\uff0c\u8bbf\u95ee ",(0,s.jsx)(n.code,{children:"http://localhost:8080/"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Demo",src:t(7664).A+"",title:"demo",width:"3106",height:"1830"})})]})}function r(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},290:(e,n,t)=>{t.d(n,{Ay:()=>r,RM:()=>c});var s=t(4848),o=t(8453);const c=[];function i(e){const n={admonition:"admonition",code:"code",p:"p",...(0,o.R)(),...e.components};return(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.p,{children:"\u91cd\u8981\u63d0\u793a"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Client secrets"})," \u53ef\u4fdd\u62a4\u4f60\u5e94\u7528\u7a0b\u5e8f\u7684\u5b89\u5168\uff0c\u56e0\u6b64\u8bf7\u786e\u4fdd\u5176\u4e0d\u4f1a\u6cc4\u9732\uff01\u4e5f\u4e0d\u8981\u4e0e\u4efb\u4f55\u4eba\u5171\u4eab\u4f60\u7684",(0,s.jsx)(n.code,{children:"Client secrets"}),"\uff01\uff01\uff01"]})]})}function r(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(i,{...e})}):i(e)}},5631:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>h});var s=t(4848),o=t(8453),c=t(290),i=t(9281);const r={sidebar_position:4},a="Facebook \u8ba4\u8bc1\u767b\u5f55",l={id:"Integrations/facebook",title:"Facebook \u8ba4\u8bc1\u767b\u5f55",description:"1. \u521b\u5efa Facebook \u5e94\u7528",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/Integrations/facebook.mdx",sourceDirName:"Integrations",slug:"/Integrations/facebook",permalink:"/zh/docs/Integrations/facebook",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"\u8c37\u6b4c\u6388\u6743\u767b\u5f55",permalink:"/zh/docs/Integrations/google"},next:{title:"Slack \u8ba4\u8bc1\u767b\u5f55",permalink:"/zh/docs/Integrations/slack"}},d={},h=[{value:"1. \u521b\u5efa Facebook \u5e94\u7528",id:"1-\u521b\u5efa-facebook-\u5e94\u7528",level:2},{value:"\u83b7\u53d6 App ID \u548c App secret",id:"\u83b7\u53d6-app-id-\u548c-app-secret",level:3},...c.RM,{value:"2. \u96c6\u6210 GAuth",id:"2-\u96c6\u6210-gauth",level:2},{value:"3. \u6388\u6743",id:"3-\u6388\u6743",level:2},...i.RM];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"facebook-\u8ba4\u8bc1\u767b\u5f55",children:"Facebook \u8ba4\u8bc1\u767b\u5f55"}),"\n",(0,s.jsx)(n.h2,{id:"1-\u521b\u5efa-facebook-\u5e94\u7528",children:"1. \u521b\u5efa Facebook \u5e94\u7528"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u8fdb\u5165 ",(0,s.jsx)(n.a,{href:"https://developers.facebook.com/",children:"Facebook \u5f00\u53d1\u8005\u4e2d\u5fc3"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u8fdb\u5165 my apps \u9875\u9762, \u63a5\u7740\u70b9\u51fb Create App \u6309\u94ae\u3002"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u9009\u62e9 ",(0,s.jsx)(n.code,{children:"Authenticate and request data from users with Facebook Login"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"create facebook app",src:t(5171).A+"",title:"create facebook app screenshot",width:"2192",height:"1414"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u70b9\u51fb ",(0,s.jsx)(n.code,{children:"Customize adding a Facebook Login button"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"facebook app login button",src:t(7233).A+"",title:"facebook app login button screenshot",width:"2110",height:"1056"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8bbe\u7f6e"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"facebook app login setting",src:t(2263).A+"",title:"facebook app login setting screenshot",width:"2092",height:"858"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u586b\u5165 OAuth Redirect URIs"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"http://yoursite.com/oauth/facebook/callback"})}),"\n",(0,s.jsx)(n.h3,{id:"\u83b7\u53d6-app-id-\u548c-app-secret",children:"\u83b7\u53d6 App ID \u548c App secret"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"facebook app id",src:t(4257).A+"",title:"facebook app id screenshot",width:"2790",height:"1638"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u91cc\u7684 APP ID \u548c App secret \u5c06\u4f5c\u4e3a\u6211\u4eec\u4f7f\u7528\u7684 ",(0,s.jsx)(n.code,{children:"ClientId"})," \u548c ",(0,s.jsx)(n.code,{children:"ClientSecret"})]}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"2-\u96c6\u6210-gauth",children:"2. \u96c6\u6210 GAuth"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5b89\u88c5 GAuth"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"go get github.com/LeoInnovateLab/gauth\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5bfc\u5165\u6ce8\u518c"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'import (\n  _ "github.com/LeoInnovateLab/gauth/register"\n)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u521b\u5efa AuthRequest"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'authRequest, err := gauth.New().\n\t\tSource("facebook").\n\t\tClientId("your_app_id").\n\t\tClientSecret("your_app_secret").\n\t\tRedirectUrl("your_callback_url").\n\t\tBuild()\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u751f\u6210\u6388\u6743 URL"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"authorizeUrl, err := authRequest.Authorize(utils.CreateState())\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u53ef\u4ee5\u7528\u8fd9\u4e2a",(0,s.jsx)(n.code,{children:"authorizeUrl"}),"\u91cd\u5b9a\u5411\u8df3\u8f6c"]}),"\n",(0,s.jsx)(n.h2,{id:"3-\u6388\u6743",children:"3. \u6388\u6743"}),"\n",(0,s.jsx)(n.p,{children:"\u6388\u6743\u7ed3\u679c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "uid": "1023042224000000",\n    "username": "Leo",\n    "nickname": "Leo",\n    "avatar": "",\n    "blog": "",\n    "company": "",\n    "location": "",\n    "email": "",\n    "remark": "",\n    "gender": -1,\n    "source": "facebook",\n    "token": {\n      "access_token": "EAAQTJktOwnEBO2I5kJLQdN0U12AvEnYZCI9XnsIoPSWtHqOWLOsBDC0O8yhQ42uqmGiBRkWIKotQMR2X2VmTSFkgXyHRFoYvintfUDiwLcGrn1WGPqxDsJZCe7MmhUj1nariBFvIJrEQol5C61ZAHYzIwTQgZBMaI1CS10U3f2ytOAFxg5XKd9IKc4NU1Q9ZCQQTm7168c8BfMj4mxcICjMiciNuoX",\n      "expire_in": 5179833,\n      "refresh_token": "",\n      "refresh_token_expire_in": 0,\n      "uid": "",\n      "open_id": "",\n      "access_code": "",\n      "union_id": "",\n      "scope": "",\n      "token_type": "bearer",\n      "id_token": "",\n      "mac_algorithm": "",\n      "mac_key": "",\n      "code": "",\n      "snapshot_user": false,\n      "oauth_token": "",\n      "oauth_token_secret": "",\n      "user_id": "",\n      "screen_name": "",\n      "oauth_callback_confirmed": null\n    },\n    "raw_user_info": "{\\"name\\":\\"Leo\\",\\"id\\":\\"1023042224000000\\"}",\n    "snapshot_user": false\n  }\n}\n'})}),"\n",(0,s.jsx)(i.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},7664:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/demo-907a77f537c7fb681e2e9a399ba3535a.jpg"},4257:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/facebook_appid-2fa18098f777035f86ad4874a27b77a4.jpg"},5171:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/facebook_create_app-78dc93606fd537c98b68819a166dbff0.jpg"},7233:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/facebook_login_button-60aa25bc8663be003a59c772c3be4d0d.jpg"},2263:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/facebook_setting-c8309f90608110fe360fd856152a16e4.jpg"},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(6540);const o={},c=s.createContext(o);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);