"use strict";(self.webpackChunkgauth_site=self.webpackChunkgauth_site||[]).push([[338],{7726:(e,n,t)=>{t.d(n,{Ay:()=>r,RM:()=>s});var i=t(4848),o=t(8453);const s=[{value:"Demo",id:"demo",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"demo",children:"Demo"}),"\n",(0,i.jsxs)(n.p,{children:["Recommend using ",(0,i.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo",children:"GAuth Demo"})," for testing."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Clone ",(0,i.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo.git",children:"https://github.com/LeoInnovateLab/gauth-demo.git"})]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Fill in the requested ",(0,i.jsx)(n.code,{children:"App Id"})," and ",(0,i.jsx)(n.code,{children:"App secrets"})," in ",(0,i.jsx)(n.code,{children:".env.demo"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Then, Start project, visit ",(0,i.jsx)(n.code,{children:"http://localhost:8080/"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Demo",src:t(7664).A+"",title:"demo",width:"2594",height:"1854"})})]})}function r(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},507:(e,n,t)=>{t.d(n,{Ay:()=>r,RM:()=>s});var i=t(4848),o=t(8453);const s=[];function c(e){const n={admonition:"admonition",code:"code",p:"p",...(0,o.R)(),...e.components};return(0,i.jsxs)(n.admonition,{type:"warning",children:[(0,i.jsx)(n.p,{children:"Important Note"}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Client secrets"})," can protect the security of your application, so please ensure that it is not leaked\uff01\nAlso, do not share your ",(0,i.jsx)(n.code,{children:"client secrets"})," with anyone\uff01\uff01\uff01"]})]})}function r(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},9767:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>g,frontMatter:()=>r,metadata:()=>a,toc:()=>h});var i=t(4848),o=t(8453),s=t(507),c=t(7726);const r={sidebar_position:3},l="Google Authorization",a={id:"Integrations/google",title:"Google Authorization",description:"1. Create OAuth Application",source:"@site/docs/Integrations/google.mdx",sourceDirName:"Integrations",slug:"/Integrations/google",permalink:"/docs/Integrations/google",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Github Authorization",permalink:"/docs/Integrations/github"},next:{title:"Facebook Authorization",permalink:"/docs/Integrations/facebook"}},d={},h=[{value:"1. Create OAuth Application",id:"1-create-oauth-application",level:2},...s.RM,{value:"2. Integration GAuth",id:"2-integration-gauth",level:2},{value:"3. Authorization",id:"3-authorization",level:2},...c.RM];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"google-authorization",children:"Google Authorization"}),"\n",(0,i.jsx)(n.h2,{id:"1-create-oauth-application",children:"1. Create OAuth Application"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create New Project"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Enter Google developer center\uff0c",(0,i.jsx)(n.a,{href:"https://console.cloud.google.com/projectcreate",children:"Create Project"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google create project page",src:t(8859).A+"",title:"Google create project page screenshot",width:"1172",height:"920"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create Credentials"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google Create Credentials Page",src:t(8862).A+"",title:"Google Create Credentials Page screenshot",width:"1872",height:"1198"})}),"\n",(0,i.jsxs)(n.p,{children:["Select ",(0,i.jsx)(n.code,{children:"OAuth client ID"})," when creating credentials"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google select OAuth",src:t(5757).A+"",title:"Google select OAuth screenshot",width:"1068",height:"624"})}),"\n",(0,i.jsx)(n.p,{children:"To create an OAuth client ID, you must first configure your consent screen\uff0cfollow the prompts to operate."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google consent screen",src:t(2664).A+"",title:"google consent screen screenshot",width:"2228",height:"684"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Select ",(0,i.jsx)(n.code,{children:"User Type"})," as ",(0,i.jsx)(n.code,{children:"External"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google select user type",src:t(4644).A+"",title:"Google select user type screenshot",width:"1338",height:"1264"})}),"\n",(0,i.jsx)(n.p,{children:"Complete by filling in the corresponding information."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google OAuth screen",src:t(9872).A+"",title:"Google OAuth screen",width:"2092",height:"1322"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create ",(0,i.jsx)(n.code,{children:"WEB Application"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Visit "Credential" - "Create Credential" - "OAuth Client ID" again, select "Web Application", and follow the prompts to fill in the content'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google Create WEB application",src:t(7645).A+"",title:"create WEB application screenshot",width:"1892",height:"1748"})}),"\n",(0,i.jsx)(n.p,{children:"After saving the information, the Client ID and Client Secret will pop up"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Google OAuth Client ID",src:t(8402).A+"",title:"Google OAuth Client ID screenshot",width:"1214",height:"1318"})}),"\n",(0,i.jsx)(n.p,{children:"Remember the following three pieces of information:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Client ID"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Client Secret"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Authorized redirect URIs"})}),"\n"]}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(n.h2,{id:"2-integration-gauth",children:"2. Integration GAuth"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Install GAuth"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"go get github.com/LeoInnovateLab/gauth\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"import register"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'import (\n  _ "github.com/LeoInnovateLab/gauth/register"\n)\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create AuthRequest"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'authRequest, err := gauth.New().\n\t\tSource("google").\n\t\tClientId("your_client_id").\n\t\tClientSecret("your_client_secret").\n\t\tRedirectUrl("your_callback_url").\n\t\tBuild()\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generate Authorize URL"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"authorizeUrl, err := authRequest.Authorize(utils.CreateState())\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can use this ",(0,i.jsx)(n.code,{children:"authorizeUrl"})," to redirect."]}),"\n",(0,i.jsx)(n.h2,{id:"3-authorization",children:"3. Authorization"}),"\n",(0,i.jsx)(n.p,{children:"Authorization result"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "uid": "1141681479691234214",\n    "username": "louisquiet@gmail.com",\n    "nickname": "Leo",\n    "avatar": "https://lh3.googleusercontent.com/a/ACg8ocKXtNIpsOKHCoJvFIjAHZU3U76vTcD8CMt2K9LQBh-5Y6pZq-Ui=s96-c",\n    "blog": "",\n    "company": "",\n    "location": "en",\n    "email": "louisquiet@gmail.com",\n    "remark": "",\n    "gender": -1,\n    "source": "google",\n    "token": {\n      "access_token": "ya29.a0AXooCgvThY6MU0w68CfESXcmKt-xxxxxxxxxxx",\n      "expire_in": 3598,\n      "refresh_token": "",\n      "refresh_token_expire_in": 0,\n      "uid": "",\n      "open_id": "",\n      "access_code": "",\n      "union_id": "",\n      "scope": "https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile openid",\n      "token_type": "Bearer",\n      "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCIasdfzZTU1ODExMWM3YzdhNzVjNWI2NTEzNGQyMmY2M2VlMDA2ZDAiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiI3MzgwODk3MzIzNzEtNmI0YWQzNGdtdmJqazFoaW80bW5mNnV2dnJmdGxwMm8uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJhdWQiOiI3MzgwODk3MzIzNzEtNmI0YWQzNGdtdmJqazFoaW80bW5mNnV2dnJmdGxwMm8uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJzdWIiOiIxMTQxNjgxNDc5Njk1MzYyMTQwMDIxxxdfszcXVpZXRAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImF0X2hhc2giOiJUMWtERFRkTW1VcGg2NTlMeU02OVVnIiwibmFtZSI6IkxlbyBMYXUiLCJwaWN0dXJlIjoiaHR0cHM6LyasfZ2xldXNlcmNvbnRlbnQuY29tL2EvQUNnOG9jS1h0Tklwc09LSENvSnZGSWpBSFpVM1U3NnZUYasfs5TFFCaC01WTZwWnEtVWk9czk2LWMiLCJnaXZlbl9uYW1lIjoiTGVvIiwiZmFtaWx5X25hbWUiOiJMYXUiLCJpYXQiOjE3MTQ3MTI2MzAsImV4cCI6MTcxNDcxNjIzMH0.O2Y0-c4tUcTxW7ay2BkT3L4YI2qy0p9s1J79DXWeiWRS3GtI8PzmYHLc-_QN8Dr49ggPE_mHIL1VdJ7C4U0FxhNEJLbg4KJJIODcdNj09D2llMou8TIc7krPihHeNPU_3Mj-Fs3VS36YIo4Gcked83wXaWOZpeV8QZvvUA37Gqm14dzQ076Y-sOZH2bOhjUkEWP6-4Ymx5cbSwgHtUuuYkjCRvb_Ase9eHTk-3_KczJzT-HzP5uHk-0E8YFwAJhztmDZWA64F8Og-iorsGd524GApX3aSDFzWiBKt0uDbBZ4F5XZFClnTp7DZdzeVkA07-uD9CoXRRBH6adsfas",\n      "mac_algorithm": "",\n      "mac_key": "",\n      "code": "",\n      "snapshot_user": false,\n      "oauth_token": "",\n      "oauth_token_secret": "",\n      "user_id": "",\n      "screen_name": "",\n      "oauth_callback_confirmed": null\n    },\n    "raw_user_info": "{\\n  \\"sub\\": \\"1141681479691234214\\",\\n  \\"name\\": \\"Leo\\",\\n  \\"given_name\\": \\"Leo\\",\\n  \\"family_name\\": \\"test\\",\\n  \\"picture\\": \\"https://lh3.googleusercontent.com/a/ACg8ocKXtNIpsOKHCoJvFIjAHZU3U76vTcD8CMt2K9LQBh-5Y6pZq-Ui\\\\u003ds96-c\\",\\n  \\"email\\": \\"louisquiet@gmail.com\\",\\n  \\"email_verified\\": true,\\n  \\"locale\\": \\"en\\"\\n}",\n    "snapshot_user": false\n  }\n}\n'})}),"\n",(0,i.jsx)(c.Ay,{})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},7664:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/demo-afd423f5dc83b5700ad0b1d4a78e093d.jpg"},8402:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_client_id-088f6e66d105896a3b6ee3d0aef1a913.jpg"},2664:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_consent_screen-de303315cb3069de3afcc972269ed9df.jpg"},8862:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_create_credentials-3d32da205a451ea8dd5ac53d6ed480b8.jpg"},5757:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_create_oauth-31b1d47ada88cd44b41516d23f271ea4.jpg"},7645:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_create_oauth_webapp-454d8bfc79f2063d0304b6b3f029951e.jpg"},8859:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_create_project-b79d126c811f3309648f58f712a0b400.jpg"},9872:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_finish_auth_screen-a0091eeef5659329ca4db66ba1f78e38.jpg"},4644:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/google_select_user_type-5c0eb3b08507ff4d34a68ed76f7fd7ca.jpg"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var i=t(6540);const o={},s=i.createContext(o);function c(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);