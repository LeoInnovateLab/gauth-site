"use strict";(self.webpackChunkgauth_site=self.webpackChunkgauth_site||[]).push([[880],{7726:(e,n,t)=>{t.d(n,{Ay:()=>c,RM:()=>i});var s=t(4848),a=t(8453);const i=[{value:"4. Demo",id:"4-demo",level:2}];function r(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"4-demo",children:"4. Demo"}),"\n",(0,s.jsxs)(n.p,{children:["Recommend using ",(0,s.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo",children:"GAuth Demo"})," for testing."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Clone ",(0,s.jsx)(n.a,{href:"https://github.com/LeoInnovateLab/gauth-demo.git",children:"https://github.com/LeoInnovateLab/gauth-demo.git"})]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Fill in the requested ",(0,s.jsx)(n.code,{children:"App Id"})," and ",(0,s.jsx)(n.code,{children:"App secrets"})," in ",(0,s.jsx)(n.code,{children:".env.demo"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Then, Start project, visit ",(0,s.jsx)(n.code,{children:"http://localhost:8080/"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Demo",src:t(7664).A+"",title:"demo",width:"2594",height:"1854"})})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},507:(e,n,t)=>{t.d(n,{Ay:()=>c,RM:()=>i});var s=t(4848),a=t(8453);const i=[];function r(e){const n={admonition:"admonition",code:"code",p:"p",...(0,a.R)(),...e.components};return(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.p,{children:"Important Note"}),(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Client secrets"})," can protect the security of your application, so please ensure that it is not leaked\uff01\nAlso, do not share your ",(0,s.jsx)(n.code,{children:"client secrets"})," with anyone\uff01\uff01\uff01"]})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},5168:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>h});var s=t(4848),a=t(8453),i=t(507),r=t(7726);const c={sidebar_position:5},o="Slack Authorization",l={id:"Integrations/slack",title:"Slack Authorization",description:"1. Create Slack App",source:"@site/docs/Integrations/slack.mdx",sourceDirName:"Integrations",slug:"/Integrations/slack",permalink:"/docs/Integrations/slack",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Facebook Authorization",permalink:"/docs/Integrations/facebook"}},d={},h=[{value:"1. Create Slack App",id:"1-create-slack-app",level:2},...i.RM,{value:"2. Integration GAuth",id:"2-integration-gauth",level:2},{value:"3. Authorization",id:"3-authorization",level:2},...r.RM];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"slack-authorization",children:"Slack Authorization"}),"\n",(0,s.jsx)(n.h2,{id:"1-create-slack-app",children:"1. Create Slack App"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Visit ",(0,s.jsx)(n.a,{href:"https://api.slack.com/apps",children:"Slack developer center"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Enter your app page, then click ",(0,s.jsx)(n.code,{children:"Create New App"})," button."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Choose ",(0,s.jsx)(n.code,{children:"From scratch"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"create slack app",src:t(6401).A+"",title:"create slack app screenshot",width:"1576",height:"1306"})}),"\n",(0,s.jsxs)(n.p,{children:["Then get ",(0,s.jsx)(n.code,{children:"ClientId"})," and ",(0,s.jsx)(n.code,{children:"ClientSecret"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Add ",(0,s.jsx)(n.code,{children:"Redirect URLs"})," and ",(0,s.jsx)(n.code,{children:"Scopes"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"slack scope",src:t(8529).A+"",title:"slack scope screenshot",width:"1562",height:"1220"})}),"\n",(0,s.jsxs)(n.p,{children:["Scopes add ",(0,s.jsx)(n.code,{children:"users.profile:read"}),", ",(0,s.jsx)(n.code,{children:"users:read"})," and ",(0,s.jsx)(n.code,{children:"users:read.email"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Install your app"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"slack install app",src:t(2412).A+"",title:"slack install app screenshot",width:"2004",height:"1028"})}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"2-integration-gauth",children:"2. Integration GAuth"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Install GAuth"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"go get github.com/LeoInnovateLab/gauth\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"import register"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'import (\n  _ "github.com/LeoInnovateLab/gauth/register"\n)\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create AuthRequest"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'authRequest, err := gauth.New().\n\t\tSource("slack").\n\t\tClientId("your_app_id").\n\t\tClientSecret("your_app_secret").\n\t\tRedirectUrl("your_callback_url").\n\t\tBuild()\n'})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Generate Authorize URL"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:"authorizeUrl, err := authRequest.Authorize(utils.CreateState())\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can use this ",(0,s.jsx)(n.code,{children:"authorizeUrl"})," to redirect."]}),"\n",(0,s.jsx)(n.h2,{id:"3-authorization",children:"3. Authorization"}),"\n",(0,s.jsx)(n.p,{children:"Authorization result"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'\n  "data": {\n    "uid": "U0734xxx",\n    "username": "Leo",\n    "nickname": "Leo",\n    "avatar": "https://avatars.slack-edge.com/2024-05-07/7083458955538_ab4691c70b61ab7e6316_original.jpg",\n    "blog": "",\n    "company": "",\n    "location": "",\n    "email": "louisquiet@gmail.com",\n    "remark": "",\n    "gender": -1,\n    "source": "slack",\n    "token": {\n      "access_token": "xoxb-7096124864113-7083663139090",\n      "expire_in": 0,\n      "refresh_token": "",\n      "refresh_token_expire_in": 0,\n      "uid": "U07347xxxx",\n      "open_id": "",\n      "access_code": "",\n      "union_id": "",\n      "scope": "users:read,users:read.email,users.profile:read",\n      "token_type": "bot",\n      "id_token": "",\n      "mac_algorithm": "",\n      "mac_key": "",\n      "code": "",\n      "snapshot_user": false,\n      "oauth_token": "",\n      "oauth_token_secret": "",\n      "user_id": "",\n      "screen_name": "",\n      "oauth_callback_confirmed": null\n    },\n    "raw_user_info": "{\\"ok\\":true,\\"user\\":{\\"id\\":\\"U07347xxx\\",\\"team_id\\":\\"T072U3xxx\\",\\"name\\":\\"leo\\",\\"deleted\\":false,\\"color\\":\\"9f69e7\\",\\"real_name\\":\\"Leo\\",\\"tz\\":\\"Asia\\\\/Chongqing\\",\\"tz_label\\":\\"China Standard Time\\",\\"tz_offset\\":28800,\\"profile\\":{\\"title\\":\\"\\",\\"phone\\":\\"\\",\\"skype\\":\\"\\",\\"real_name\\":\\"Leo\\",\\"real_name_normalized\\":\\"Leo Lau\\",\\"display_name\\":\\"\\",\\"display_name_normalized\\":\\"\\",\\"fields\\":null,\\"status_text\\":\\"\\",\\"status_emoji\\":\\"\\",\\"status_emoji_display_info\\":[],\\"status_expiration\\":0,\\"avatar_hash\\":\\"ab4691c\\",\\"image_original\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_original.jpg\\",\\"is_custom_image\\":true,\\"email\\":\\"louisquiet@gmail.com\\",\\"first_name\\":\\"Leo\\",\\"last_name\\":\\"\\",\\"image_24\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_24.jpg\\",\\"image_32\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_32.jpg\\",\\"image_48\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_48.jpg\\",\\"image_72\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_72.jpg\\",\\"image_192\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_192.jpg\\",\\"image_512\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_512.jpg\\",\\"image_1024\\":\\"https:\\\\/\\\\/avatars.slack-edge.com\\\\/2024-05-07\\\\/7083458955538_ab4691c70b61ab7e6316_1024.jpg\\",\\"status_text_canonical\\":\\"\\",\\"team\\":\\"T072U3xxxx\\"},\\"is_admin\\":true,\\"is_owner\\":true,\\"is_primary_owner\\":true,\\"is_restricted\\":false,\\"is_ultra_restricted\\":false,\\"is_bot\\":false,\\"is_app_user\\":false,\\"updated\\":1715133779,\\"is_email_confirmed\\":true,\\"who_can_share_contact_card\\":\\"EVERYONE\\"}}",\n    "snapshot_user": false\n  }\n}\n'})}),"\n",(0,s.jsx)(r.Ay,{})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},7664:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/demo-afd423f5dc83b5700ad0b1d4a78e093d.jpg"},6401:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/slack_create_app-dfca7ecfa3ccd5a9df8cde641e7c794c.jpg"},2412:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/slack_install_app-fb7c1b1d9360b3319070dea74f582408.jpg"},8529:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/slack_scope-74a61711195e577b6fe32b0cd63982b3.jpg"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);